<html>
<head>
    <title>Captcha</title>
    <script type="text/javascript">
        function onSubmit(token) {
            console.log(token)
        }

        function onloadCallback() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const key = urlParams.get('key') ?? "xxx"
            const size = urlParams.get('size') ?? "normal"
            console.log(key)

            grecaptcha.render('my_captcha', {
              'sitekey' : key,
              'callback' : onSubmit,
              'size': size
            });

            if(size == 'invisible') {
                grecaptcha.execute();
            }
        };
    </script>
    <style>
        .container {
          height: 30rem;
          position: relative;
        }

        .center {
          margin: 0;
          position: absolute;
          top: 50%;
          left: 50%;
          -ms-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
        }

        .centerDiv {
            text-align: center
        }

        .meat {
          font-family: 'Roboto', sans-serif;
          border-radius: 0.2rem;
          width: 90%;
          font-size: 1.2rem;
          background-color: #04AA6D;
          border: none;
          color: white;
          padding: 1rem 1.2rem;
          text-decoration: none;
          cursor: pointer;
        }

        .centerMeat {
          margin-left: 3.5rem;
        }
    </style>
</head>
<body>
<form action="" method="POST">
    <div class="container">
        <div class="center">
            <div class="centerDiv">
                <div class="meat"> Don't worry - We only check if you are not a robot ðŸ¤–</div>
            </div>
            <div id="my_captcha"></div>
        </div>
    </div>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
            async defer>
    </script>
</form>
</body>
</html>
